<?xml version="1.0" encoding="UTF-8"?>
<localize>
  <umbTextpage id="2015011411" parentID="18486" level="4" writerID="106" creatorID="106" nodeType="1059" template="1052" sortOrder="28" createDate="2015-01-14T10:01:50" updateDate="2015-01-14T10:01:50" nodeName="Xbox" urlName="xbox" writerName="content" creatorName="content" path="-1,11978,19421,18486,2015011411" isDoc="">
    <bodyText>
      <![CDATA[
      <style>
  .main-container {
    text-align: center;
  }

  .casestudy-banner {
    margin: 0;
    width: 100%;
    background: #0070B8 url(//wacndevelop.blob.core.chinacloudapi.cn/marketing-resource/css/img/support.png) center center no-repeat;
    height: 210px;
    box-sizing: border-box;
    margin-bottom: 10px;
    text-align: left;
  }

  .header-container {
    width: 960px;
    margin: 0 auto;
  }

  .casepagestyle1-left {
    display: inline-block;
    margin: 30px 0 0 20px;
    text-align: left;
    float: none;
    vertical-align: top;
  }

  .casepagestyle1-right {
    display: inline-block;
    margin: 0;
    margin-top: 30px;
    text-align: left;
    width: 800px; 
  }

  .casepagestyle1-right img {
    width: 100%;
  }

</style>



<div class="casestudy-banner" >
<div class="header-container">
<div class="casebannertitle-multi" style="margin-left: 50px; margin-top: 50px; width: 200px; float: left; text-align: left; display: inline; line-height: 100%; font-size:28px;" >
     Xbox
     <p> <a id="parter_case_xbox" href="/partnerancasestudy/case-studies/" style="color:white;">查看案例库</span></a>
     <span style="background: url(//wacndevelop.blob.core.chinacloudapi.cn/marketing-resource/css/img/linktri_white.png);
     display: inline-block;width: 6px;height: 11px;background-size: 100%;margin-left: 3px"></span>
     </a>
     </p>
</div>
<div>
<ul class="casepagecontent" style="margin-top: 50px; list-style-type: none; padding-left: 0px; margin-left: 30px; float: left; width: 120px;">
<li class="casebannertitle">所属行业：</li>
<li>游戏</li>
<li class="casebannertitle">机构规模：</li>
<li>&gt;10000人</li>
</ul>
<ul class="casepagecontent" style="margin-top: 50px;  list-style-type: none; padding-left: 0px; margin-left: 20px; float: left; width: 120px;">
<li class="casebannertitle">云计算类型：</li>
<li>IaaS</li>
<li>公有云</li>
</ul>
<ul class="casepagecontent" style="margin-top: 50px;  list-style-type: none; padding-left: 0px; margin-left: 20px; float: left; width: 120px;">
<li class="casebannertitle">所用技术和服务：</li>
<li>存储</li>
</ul>
<ul class="casepagecontent" style="margin-top: 50px; list-style-type: none; padding-left: 0px; margin-left: 20px; float: left; width: 160px;">
<li class="casebannertitle">业务需求：</li>
<li>按需缩放存储和计算资源</li>
<li>游戏体验不中断</li>
<li>快速交付</li>
<li>灵活存储</li>
</ul>
</div>
</div>
</div>
<ul class="casepagestyle1-left" style="display: inline-block;margin: 30px 0 0 20px;text-align: left;float: none;vertical-align: top;">
<li><a href="#first" class="casemain">应用场景</a></li>
<li><a href="#second" class="casemain">解决方案</a></li>
<li><a href="#third" class="casemain">客户收益</a></li>
</ul>
<div class="casepagestyle1-right" style="display: inline-block;margin: 0;margin-top: 30px;text-align: left;width: 800px;">
<div class="_casestudy-quote" style="width: 100%;"><span><em>“随着 Azure 团队继续改善存储服务的速度和效率，我们可以将更多精力用于开发精彩的游戏。”</em> </span>
<p style="margin-top: 5px; font-weight: bold; text-align: right;"><span class="author">— —<em>Xbox Live首席软件架构师  Michael Alyn Miller</em></span></p>
</div>
<div class="casepagesubtitle">Xbox 通过云端游戏和音乐体验改善服务，加快交付速度</div>
<div class="casepagecontent1">Xbox 发展至今已经不仅仅是一台游戏主机，可以提供多玩家在线游戏、电视、流媒体、视频共享，以及在线音乐等服务。为了满足该业务对存储和计算能力无止境的需求，Xbox 通过 Azure 运行了很多云服务。借助 Azure，Xbox 获得了具备高扩展性和高可用性的计算与存储容量，不仅可以确保为用户提供不间断的娱乐体验，还能更快速交付新的功能，并能自由地提供令用户耳目一新，充满竞争力的服务。</div>
<div class="casepagecontent1">微软于 2001 年 11 月发布 Xbox 游戏主机后，立刻吸引了广泛的关注。这是史上首款由美国公司开发的电子游戏主机，也是首款带有以太网接口的游戏主机，这款设备标志着在线游戏的兴起，同时还首次出现了多玩家游戏。</div>
<div class="casepagecontent1">今天，Xbox 已经发展到第三代了，而 Xbox 这一品牌通过多次扩展，不仅可用于玩电子游戏，而且包含了在线娱乐功能，例如电视、电影、音乐，以及流媒体服务（例如 Xbox Live）。目前全球有超过 4800 万人通过 Xbox Live 享受 Xbox 游戏和娱乐体验。</div>
<div class="casepagecontent1">随着 Xbox 品牌和服务逐渐扩展，负责管理的微软团队人数，以及提供这些（互联网）服务所需的微软数据中心资源也水涨船高。截止 2012 年，已经有成千上万台服务器专门用于承担在线多玩家游戏、媒体文件编码，以及游戏信息和音乐文件的存储等任务。</div>
<div id="casepagetitle" class="casepagetitle"><a name="first" class="main4"></a>应用场景</div>
<div class="casepagecontent1">“随着我们游戏和在线服务的继续进化，我们需要更灵活，扩展性更高的数据中心基础结构，”Xbox Live Social 和 Live Services 团队首席软件架构师 Michael Alyn Miller 说。“我们需要用非同寻常的存储系统存储各种资产，例如视频剪辑，同时我们需要在数据层面让我们的服务实现去耦合。”类似多玩家匹配以及排行榜（需要统计玩家的游戏分数）这样的 Xbox Live 服务需要在数据层面进行交互，这导致不同服务必须相互依赖，并拖累了新功能的交付。</div>
<div class="casepagecontent1">Xbox Music 团队打算积极扩展自己的业务，但也知道，自己同样需要一套可扩展，具备成本效益的基础结构以存储数千万首歌曲，并将成千上万的音乐文件编码为不同格式和比特率的文件。“我们希望摆脱服务器机架和设备的桎梏，将所有时间和精力专注于提供更棒的音乐服务，”Xbox Music 团队 Xbox Music Services 资深开发主管 Joao Neto 说。</div>

<div id="casepagetitle" class="casepagetitle"><a name="second" class="main4"></a>解决方案</div>
<div class="casepagecontent1">不同的 Xbox 团队逐渐开始将数据中心资产和开发经理投注于 Azure。微软的这一云平台可通过微软自己的数据中心提供计算、存储、托管，以及管理服务。</div>
<div class="casepagesubtitle">Xbox Live：游戏在云端</div>
<div class="casepagecontent1">2012 年上半年，Xbox Live 团队发起了一项倡议，将尽可能多的各类数据迁往 Azure，并针对云环</br>境的开发为开发人员提供培训。“Azure 存储服务和传统的数据库存储有着很大的区别 ，”  Miller 说。“我们的大部分业务逻辑都运行在 Microsoft SQL Server 之上，这些逻辑也需要迁往 Azure。我们的各种服务都需要通过这一数据层进行通讯。”</div>
<div class="casepagecontent1">随着迁移至 Azure，Xbox Live 团队也开始借此机会对自己的服务进行重构，让这些服务不再共享同一个通用数据库，而是使用更高级别的服务对服务 API 进行通讯。这种将服务从共享的数据层去耦合的做法使得 Xbox Live 团队能够用不同的速度推出各种新的功能。</div>
<div class="casepagecontent1">目前很多 Xbox Live 游戏功能都是通过 Azure 提供的。例如成就捕捉模式（Achievement Snap Mode）功能，可以让玩家在电视屏幕上显示两个窗格，一个显示游戏画面，另一个显示自己在游戏中获得的成就（例如跑完的圈数，或者消灭的敌人数量），这样玩家就能随时了解自己的游戏进度。</div>
<div class="casepagecontent1">在某些多玩家在线游戏，例如泰坦坠落（Titan fall）中，游戏模拟器是在 Azure 虚拟机中运行的，而非在玩家的游戏主机中运行。这样每个玩家的游戏主机就可以将 CPU 资源专用于每个人所看到画面的处理和其他需求，由 Azure 来处理多个玩家之间的动态交互。游戏结束后，软件可以自动回收 Azure 虚拟机，并分给另一组玩家使用。</div>
<div class="casepagecontent1">极限竞速 5（Forza Motorsport 5）使用 Azure 驱动着游戏的 Drivatar 功能，这样极限竞速的粉丝就可以随时和自己的朋友以及 Rivals 展开比赛，哪怕对方目前并不在线。为了实现这一功能，Azure 会观察并分析玩家在游戏中的行为（包括车速和攻击性）与技能，例如通过和转弯能力，并根据这些信息为每一名极限竞速玩家创建 Drivatar 档案，甚至可以预测玩家在自己尚未行驶过的赛道上可能做出的行为。这些档案可以精确地模拟每一名极限竞速玩家的倾向，进而让游戏中的竞争对手展现出比传统的“A.I.”竞赛更复杂，更逼真，也更现实的特征。同时这也意味着极限竞速的玩家每次比赛过程中都能获得更出色，更惊险，并且更难忘的体验。</div>
<div class="casepagecontent1">Xbox Live 使用 Microsoft Azure 块存储服务保存游戏和其他大块的非结构化数据，并使用 Azure 表存储服务存储游戏成就和其他类似的结构化数据。某些功能，例如排行榜则同时使用这两种类型的存储。</div>
<div class="casepagecontent1">实际上，很多 Xbox Live 特性都是混合式的，部分功能在 Azure 中运行，其他功能在微软自己的数据中心内运行。这样 Xbox Live 才能提供最高程度的灵活性和服务弹性，并让玩家获得愉快的体验。</div>
<div class="casepagesubtitle">Xbox Music：在云端存储和编码音乐文件</div>
<div class="casepagecontent1">2012 年 11 月，Xbox Music 扩展了自己的曲库和全球营销工作，也开始通过 Azure 开发新的服务。“我们的业务进入了更多国家，并开始为更多平台提供服务，例如 Android 和 iOS，这就需要将内容编码为更多格式，”Neto 说。“Azure 为我们提供了遍布世界的落脚点，并提供了实现这一切所需的计算和存储能力。</div>
<div class="casepagecontent1">Xbox Music 在自己的三大重要业务中用到了 Azure：</div>
<div class="casepagecontent1"><strong>云收藏（Cloud collection）</strong>。Xbox Music 客户的音乐收藏和播放列表存储在 Azure 存储服务中，通过云环境供应给客户所拥有的每个设备—Xbox、Xbox Web Player 服务、Windows PC 或平板、Window Phone、iPhone、Android 手机，以及其他设备。截止 2014 年 8 月，Xbox Music 在 Azure 中存储了超过3200 万首歌曲，Azure 表存储的总行数已经超过 100 亿行，该服务每秒钟大约进行 4,000 笔表事务。</div>
<div class="casepagecontent1"><strong>媒体文件编码。</strong>Xbox Music 每天从唱片公司收到大约 230,000 个媒体文件，每个文件都需要按照客户应用程序所用的 15 种不同格式和比特率重新进行编码。文件的存储和编码工作都是在 Azure 中进行的。</div>
<div class="casepagecontent1">“借助 Azure，我们能对计算和存储资源进行缩放，满足任何唱片公司的需求，”Neto 说。“有时候我们需要对他们的整个曲库进行重编码，其中可能包含通过超过 4 千个音轨文件编码而来的数以百亿计的文件。”借助 Azure 出色的扩展能力，Xbox Music 可以同时运行数千个编码作业，每天最多可完成两百万个音轨的编码任务。Xbox Music 使用超过 2PB 的 Azure 存储空间保存编码后的文件。</div>
<div class="casepagecontent1"><strong>目录（Catalog）。</strong>Xbox Music将 4 千万个音轨的元数据保存在 Azure 存储中。Xbox Music 每天从唱片公司收到数千个媒体文件的同时，还会收到有关这些文件的元数据，例如歌名、歌手、时长等。Xbox Music 会处理这些元数据，并将其推送至 Azure，供其它内部服务和过程调用。例如，Bing 会将这些信息用于搜索用途，Xbox Live 会使用这些信息为用户展示音乐选项。Xbox Music 的目录元数据使用了超过 30TB Azure 存储空间。</div>
<div class="casepagecontent1">因为 Xbox Music 业务借助 Azure 大获成功，Xbox Video 团队也打算使用 Azure 存储并编码视频文件，而视频文件的容量和编码的需求无疑要远远超过音频文件。</div>
<div class="casepagesubtitle">Xbox One：在云端存储玩家的游戏录像剪辑</div>
<div class="casepagecontent1">2013 年 11 月，Xbox One 团队开始使用 Azure 提供 Xbox One Game DVR 功能，该功能可以录制并存储玩家在游戏过程中的录像剪辑，并上传到玩家的 Xbox Live 资料和社交网络中。</div>
<div class="casepagecontent1">该团队使用 Azure 媒体服务实现快速的文件编码、格式转换、存储、内容保护，以及视频流功能。“我们使用 Azure 媒体服务对文件进行一次转码，随后即可将内容通过多种格式供应给不同设备，”Xbox One 团队项目经理 Michael Siebert 说。“玩家可以在自己的游戏主机，甚至多种设备上欣赏自己的录像剪辑。”</div>
<div class="casepagecontent1">除了使用 Azure 媒体服务，Xbox One 团队还是用 Azure 存储服务在全球多地存储元数据信息  。</br>"我们不仅可以存储视频录像剪辑，还可以存储有关剪辑的上下文情境信息，这些数据有助于完善 Xbox 以后所要提供的功能，”Siebert 说。对于使用的各种 Azure 存储解决方案，Xbox One 团队都只需要按照实际用量付费。</div>
<div id="casepagetitle" class="casepagetitle"><a name="third" class="main4"></a>客户收益</div>
<div class="casepagecontent1">通过使用 Azure，Xbox 获得了可大规模扩展的存储和计算资源，获得了更高弹性的数据，实现了更快速的功能发布节奏，借此可以更好地创造出令客户耳目一新的服务。</div>
<div class="casepagesubtitle">存储和计算资源按需缩放</div>
<div class="casepagecontent1">使用 Azure 之后，Xbox 团队不再需要担心存储空间或计算能力不足的问题。“我们的服务使用了遍布全球各地的多个 Azure 存储账户，因为我们不想将所有数据保存在同一个位置，Azure 提供的服务使得我们无需自行构建这一切，”Miller 说。“我们可以向这些账户中持续保存数据，而这样的存储系统永远不会面临性能退化的问题。实际上，在我们开始使用 Azure 后，微软升级了 Azure 存储服务的性能，我们免费享受到了这些改进，等于说我们的成本更低了。随着 Azure 团队继续改善存储服务的速度和效率，我们可以将更多精力用于开发精彩的游戏。”</div>
<div class="casepagecontent1">Xbox Music 也可以用类似的方式扩展 Azure 的编码资源，对整个目录（大约 4 千万首歌曲）进行重编码，并在工作完成后释放这些虚拟机。“借助 Azure，因为可以同时创建并运行数千个虚拟机，我们一天可以完成对上百万首歌曲的编码工作，”Neto 说。“在服务器数量有限的传统数据中心内，这一任务可能需要数月才能完成。”随着 Xbox Music 扩展至更多国家和地区，为了适应文件比特率的新要求，必须对所有内容进行重编码，在 Azure 的帮助下，该团队可以更轻松地完成这一任务。</div>
<div class="casepagecontent1">Azure 为 Xbox One 提供了满足峰值时段游戏需求所需的扩展能力，但并不需要投入巨资和大量精力搭建自己的服务器。“在 Azure 的帮助下，我们可以随时扩充容量，应对假日和其他峰值时刻的负载，”Siebert 说。与 Xbox Music 类似，Xbox One 也可以同时处理数百个编码作业，并在工作完成后释放虚拟机。</div>
<div class="casepagesubtitle">保障游戏体验不中断</div>
<div class="casepagecontent1">通过将游戏数据分散保存在 Azure 和微软公司的多个数据中心内，Xbox Live 的数据/游戏弹性更高</br>，发生中断的概率更低。“由于使用了多个 Azure 数据中心，Azure 服务中断只会影响到少量客户，”Miller 说。“从长远来说，我们还打算使用 Azure 的其他功能继续改善服务可用性，降低停</br>机时间。” </div>
<div class="casepagecontent1">随着可用性进一步提高，Xbox One 团队对于云端游戏服务的自信心也进一步加强。“我们希望确保云端提供的游戏体验能够尽量接近使用本地文件获得的传统游戏体验，”Siebert 说，“如果一个 Azure 数据中心出现故障，我们依然可以获得足够的弹性。”</div>
<div class="casepagesubtitle">更快速交付新功能</div>
<div class="casepagecontent1">随着 Azure 的表和 Blob 块存储等更灵活的存储类型逐渐涌现，Xbox Live 团队不再受到传统数据库类存储的局限。这样就可以在无需考虑底层数据存储需求的情况下进一步丰富自己的服务。“我们以前要用数小时的时间对数据迁移问题进行排错，”Miller 说。“使用 Azure 后，这些问题不复存在。通过使用 Azure 表存储，不再需要创建表级架构，每个项都可以自我描述。我们可以添加新的字段，例如汽车颜色或单圈时间，同时无需担心会影响到其他服务。”</div>
<div class="casepagecontent1">因为开发人员不再需要担心紧密耦合的数据关系，Xbox Live 服务团队可以将更多精力用于创造性活动，借此开发相互之间保持独立的新功能。“这对我们而言是一个巨大的胜利，因为我们可以更快速地开发新功能，同时无需担心会对其他服务产生影响，”Miller 说。“以前我们每个月只能开发一个 Xbox Live 服务，现在某些团队每天都可以发布新的功能。在快节奏发展的时代中，这对于我们产品的改善是至关重要的。”</div>
<div class="casepagesubtitle">打造更有竞争力的服务</div>
<div class="casepagecontent1">这一切的最终目的只有一个：打造最有吸引力的娱乐服务，更快速地将这些服务投放市场，吸引更多客户。“如果不使用 Azure，我们根本无法打造出目前这样的服务，因为底层基础结构实在是太昂贵了，”Neto 说。“我们只能在世界各地部署海量的服务器，而 Azure 让我们用更具成本效益的方式做到了这一切。我们可以在全球各地提供不同语言的音乐元数据，让客户在不同设备之间漫游自己的音乐，并提供其他需要大量存储和处理能力才能实现的功能。”</div>
</div>]]>
    </bodyText>
    <umbracoNaviHide>0</umbracoNaviHide>
    <pageTitle>Windows Azure 案例研究：xbox</pageTitle>
    <metaKeywords></metaKeywords>
    <metaDescription><![CDATA[]]></metaDescription>
    <linkid>case-studies-xbox</linkid>
    <urlDisplayName>凡客诚品</urlDisplayName>
    <headerExpose></headerExpose>
    <footerExpose></footerExpose>
    <disqusComments>0</disqusComments>
    <metaCanonical></metaCanonical>
    <isHeader>0</isHeader>
    <pageTemplate></pageTemplate>
    <localize>0</localize>
    <localizePartial>0</localizePartial>
    <sitemapHide>0</sitemapHide>
    <headerText><![CDATA[]]></headerText>
    <forbidPublish>0</forbidPublish>
  </umbTextpage>
</localize>