<?xml version="1.0" encoding="UTF-8"?>
<localize>
  <umbTextpage template="21" createDate="2017-12-04T11:20:07" updateDate="2018-11-08T15:00:00">
    <bodyText>
    <![CDATA[
         <p><tags ms.service="legal" ms.date="12/2017" wacn.date="12/2017" wacn.lang="cn"/></p>

        <h1>Azure Cosmos DB 的服务级别协议</h1><div class="tags-date"><div class="wacn-date">最后更新时间：2018年11月</div></div>
        <p>在中国由世纪互联运营的<a href="/home/features/cosmos-db/">Azure Cosmos DB</a>是<a href="//docs.azure.cn/zh-cn/cosmos-db/distribute-data-globally/">分布式</a>多模型数据库服务。它在中国不同 Azure 数据中心提供统包数据分发，无论您的用户位于何处，其均可以透明方式调整及复制您的数据。该服务提供全面的 99.99% 服务级别协议，包括对配置有五种一致性水平中任意一种的单个 Azure 区域的 Cosmos DB 数据库帐户，或是配置有四种松散一致性水平中任意一种的跨多个 Azure 区域的数据库帐户的吞吐量、一致性、可用性和延迟保证。此外，除一致性水平选择之外，Cosmos DB 还提供跨两个或多个 Azure 区域数据库帐户的读取可用性为 99.999% 的服务级别协议。</p>
        <h2>引言</h2>
        <p>本 Azure 服务级别协议（以下简称“服务级别协议”）由世纪互联制定，与客户从世纪互联处购买 Azure 服务所依据的协议（以下简称“协议”）相关并构成该协议的一部分。</p>
        <p>为了保证达到并保持所提供服务的服务级别，我们会提供财务方面的支持。如果我们未能达到和保持本服务级别协议中说明的每种服务的服务级别，则您有资格获得月度服务费用的部分服务费抵扣。在您的协议期间，这些条款都不会做任何变动。如果续展订购，则在续订期限开始时实行的本服务级别协议的版本将适用于整个续订期限。如果对本服务级别协议有任何重大不利变更，我们应至少提前九十 (90) 天进行通知。您可以随时访问 <a href="/support/legal/sla/">https://www.azure.cn/support/legal/sla/</a> 查看本服务级别协议的最新版本。</p>
        <h2>一般条款</h2>
        <h3>一、定义</h3>
        <ol>
        <li>
        <p>“索赔” 指客户根据本服务级别协议向世纪互联提交的、有关尚未达到某个服务级别以及客户可获得的服务费抵扣的索赔。</p>
        </li>
        <li>
        <p>“客户”指签订本协议的机构。</p>
        </li>
        <li>
        <p>“客户支持”指世纪互联可由此为客户提供帮助以解决服务问题的服务。</p>
        </li>
        <li>
        <p>“错误代码”用于指示某项操作出现了问题，例如，5xx 范围内的 HTTP 状态代码。</p>
        </li>
        <li>
        <p>“外部连接”是指可通过受支持的协议（例如 HTTP 和 HTTPS）从公共 IP 地址发送和接收的双向网络流量。</p>
        </li>
        <li>
        <p>“事件”表示导致无法达到服务级别的任何情况。</p>
        </li>
        <li>
        <p>“管理门户”指由世纪互联提供的 web 界面，客户可以通过该界面来管理服务。</p>
        </li>
        <li>
        <p>“世纪互联”指客户协议上载明的世纪互联实体。</p>
        </li>
        <li>
        <p>“预览版”指提供用来获得客户反馈的服务或软件的预览版、测试版或其他预发行版。</p>
        </li>
        <li>
        <p>“服务”表示根据协议为客户提供的并在以下指定服务级别协议的 Azure 服务。</p>
        </li>
        <li>
        <p>“服务费抵扣”表示针对受影响的服务或服务资源的已经证实的服务索赔，返还给客户的月度服务费用的百分比。</p>
        </li>
        <li>
        <p>“服务级别”指定世纪互联选择遵守并据此衡量其所提供的每种服务的服务级别的标准，具体如下所述。</p>
        </li>
        <li>
        <p>“服务资源”指某个服务内可供使用的单独资源。</p>
        </li>
        <li>
        <p>“成功代码”用于指示某项操作已经成功，例如，2xx 范围内的 HTTP 状态代码。</p>
        </li>
        <li>
        <p>“支持时段”指支持某个服务功能或者支持与某个单独产品或服务兼容的时间范围。</p>
        </li>
        <li>
        <p>“虚拟网络”指虚拟专用网络，包括用户定义的 IP 地址和子网的集合，形成了 Azure 内的网络边界。</p>
        </li>
        <li>
        <p>“虚拟网络网关”是指促成虚拟网络和客户本地网络之间跨区域连接的网关。</p>
        </li>
        </ol>
        <h3>二、服务费抵扣索赔</h3>
        <ol>
        <li>
        <p>客户必须在事件（索赔主题）发生的帐单月份结束之后的两 (2) 个月内向客户支持提交索赔，世纪互联才会受理该索赔。客户必须向客户支持提供世纪互联证实该索赔所需的所有信息，包括但不限于：事件的详细说明、事件的发生时间和持续时间、受影响的资源或操作以及客户尝试解决该事件所做出的任何努力。</p>
        </li>
        <li>
        <p>世纪互联将利用所有可合理获得的信息来验证索赔，并判定是否应兑现服务费抵扣。</p>
        </li>
        <li>
        <p>如果由于同一事件导致未能达到某个特定服务的多个服务级别，客户必须仅选择一个服务级别并基于该服务级别针对此次事件提出索赔。</p>
        </li>
        <li>
        <p>服务费抵扣仅适用于为未达到服务级别的特定服务、服务资源或服务层级所支付的费用。如果服务级别适用于单独的服务资源或单独的服务层级，则服务费抵扣仅适用于为受影响的服务资源或服务层级（如果有）所支付的费用。</p>
        </li>
        </ol>
        <h3>三、服务级别协议排除项</h3>
        <p>本服务级别协议和任何适用的服务级别不适用于由以下情况造成的任何性能或可用性问题：</p>
        <ol>
        <li>
        <p>由于超出世纪互联合理控制范围的因素而导致的问题，例如，在世纪互联数据中心以外（包括在客户的站点或者客户的站点和世纪互联数据中心之间）的网络或设备故障；</p>
        </li>
        <li>
        <p>由于客户使用非世纪互联提供的硬件、软件或服务（例如，从 Azure 商店购买的第三方软件或服务或者世纪互联提供的其他非 Azure 服务）作为服务的一部分而导致的问题；</p>
        </li>
        <li>
        <p>由于客户未按与服务功能一致的方式（例如，尝试执行不受支持的操作）或者未按与发布的文档或指南一致的方式来使用服务而导致的问题；</p>
        </li>
        <li>
        <p>由于错误的输入、指令或参数（例如，请求访问不存在的文件）而导致的问题；</p>
        </li>
        <li>
        <p>世纪互联建议客户改变服务的使用方式之后，如果客户未按建议改变其使用方式而继续使用服务所导致的问题；</p>
        </li>
        <li>
        <p>使用预览版期间出现问题或者与预览版有关的问题，或者使用世纪互联订购信用进行购买而导致的问题；</p>
        </li>
        <li>
        <p>由于客户试图执行的操作超出了规定的服务配额而导致的问题，或者由于限制可疑的滥用行为而导致的问题；</p>
        </li>
        <li>
        <p>由于客户使用的服务功能超出了相关支持时段而导致的问题；或</p>
        </li>
        <li>
        <p>由于他人利用客户的密码或设备未经授权地访问世纪互联服务的行为，或由于客户未能遵循适当的安全惯例而导致的问题。</p>
        </li>
        </ol>
        <h3>四、服务费抵扣</h3>
        <ol>
        <li>
        <p>针对所描述的每一种服务，下文介绍了服务费抵扣的金额和计算方法。</p>
        </li>
        <li>
        <p>服务费抵扣是客户针对未能达到任何服务级别的唯一且排他性的救济。</p>
        </li>
        <li>
        <p>在任何情况下，任何帐单月份内提供的与特定服务或服务资源相关的服务费抵扣都不得超过客户在该帐单月份内用于该服务或服务资源（如果有）的月度服务费用。</p>
        </li>
        <li>
        <p>对于作为套件一部分购买的服务，服务费抵扣将基于服务所占的成本比例进行计算，这将由世纪互联通过合理的判断确定。如果客户已从转售商处购买服务，服务费抵扣将基于适用服务的估计零售价进行计算，这将由世纪互联通过合理的判断确定。</p>
        </li>
        </ol>
        <h2>SLA 详细信息</h2>
        <h3>附加定义</h3>
        <ol>
            <li>
                <p>“<strong>集合</strong>”是指 JSON 文档的容器，它是事务和查询规模的单位。</p>
            </li>
            <li>
                <p>“<strong>消耗的 RU 数</strong>”是指在指定的一秒内 Azure Cosmos DB 集合处理的所有请求所消耗的请求单位的总数。</p>
            </li>
            <li>
                <p>“<strong>数据库帐户</strong>”是指 Azure Cosmos DB 资源模型的顶级资源。一个 Azure Cosmos DB 数据库帐户包含一个或多个数据库。</p>
            </li>
            <li>
                <p>“<strong>失败的请求数</strong>”是指在下表中记录的最大上限内，总请求中返回错误代码或未能返回成功代码的请求数。</p>
            </li>
            <li>
                <p>“<strong>失败的读取请求数</strong>”是指在下表中记录的最大上限内，总读取请求中返回错误代码或未能返回成功代码的请求数。</p>
            </li>
            <table>
                <tr>
                    <th>操作</th>
                    <th>处理延迟最大上限</th>
                </tr>
                <tr>
                    <td>所有数据库帐户配置操作</td>
                    <td>2 分钟   </td>
                </tr>
                <tr>
                    <td>添加新区域</td>
                    <td>60 分钟</td>
                </tr>
                <tr>
                    <td>手动故障转移</td>
                    <td>5 分钟</td>
                </tr>
                <tr>
                    <td>资源操作</td>
                    <td>5 秒</td>
                </tr>
                <tr>
                    <td>媒体操作</td>
                    <td>60 秒</td>
                </tr>
            </table>
            <li>
                <p>“<strong>配置的 RU</strong>”是指在指定的一秒内，为指定 Azure Cosmos DB 集合配置的所有请求单位。</p>
            </li>
            <li>
                <p>“<strong>速率受限请求数</strong>”是指在指定的一秒内，在消耗的 RU 数超过集合中的某部分配置的 RU 数后，受 Azure Cosmos DB 集合限制的请求数。</p>
            </li>
            <li>
                <p>“<strong>请求单位 (RU)</strong>”是 Azure Cosmos DB 吞吐量的度量。</p>
            </li>
            <li>
                <p>“<strong>资源</strong>”是指与数据库帐户关联的一组 URI 可寻址实体。</p>
            </li>
            <li>
                <p>“<strong>成功的请求数</strong>”通过总请求数减去失败的请求数计算得出。</p>
            </li>
            <li>
                <p>“<strong>总请求数</strong>”是指在一个帐单月份期间指定的 Azure 订阅中的一小时时间间隔内对资源发出的所有请求数（包括速率受限请求数和所有失败的请求数）。</p>
            </li>
            <li>
                <p>“<strong>总读取请求数</strong>”是指在一个帐单月份期间指定的 Azure 订阅中的一小时时间间隔内对资源发出的所有读取请求数（包括速率受限请求数和所有失败的请求数）。</p>
            </li>
            
        </ol>
        <h3>可用性 SLA</h3>
        <ol>
            <li>
                <p>“<strong>读取错误率</strong>”的计算方式如下：一个指定 Azure 订购中的所有资源在指定的一小时时间间隔内产生的失败读取请求总数除以总读取请求数。如果在指定的一小时时间间隔内的总读取请求数为零，则该时间间隔的读取错误率为 0%。</p>
            </li>
            <li>
                <p>“<strong>错误率</strong>”的计算方式如下：一个指定 Azure 订购中的所有资源在指定的一小时时间间隔内产生的失败请求总数除以总请求数。如果在指定的一小时时间间隔内的总请求数为零，则该时间间隔的错误率为 0%。</p>
            </li>
            <li>
                <p>某个帐单月份的“<strong>平均错误率</strong>”是指此帐单月份中每个小时的错误率总和除以此帐单月份内的总小时数。</p>
            </li>
            <li>
                <p>某个帐单月份的“<strong>平均读取错误率</strong>”是指此帐单月份中每个小时的读取错误率总和除以此帐单月份内的总小时数。</p>
            </li>
            <li>
                <p>Azure Cosmos DB 服务的“<strong>每月可用性百分比</strong>”通过以下方式计算：100% 减去指定 Azure 订购在一个帐单月份中的平均错误率，其中该服务可通过配置有五种一致性水平中任意一种的单个区域的 Cosmos DB 数据库帐户，或是配置有四种松散一致性水平中任意一种的跨多个区域的数据库帐户进行部署。每月可用性百分比计算公式如下所示：</p>
                <p>每月正常服务时间 % = 100% - 平均错误率</p>
                <p>服务费抵扣：</p>
                <table>
                    <thead>
                    <tr>
                        <th>每月可用性百分比</th>
                        <th>服务费抵扣</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>&lt;99.99%</td>
                        <td>10%</td>
                    </tr>
                    <tr>
                        <td>&lt;99%</td>
                        <td>25%</td>
                    </tr>
                    </tbody>
                </table>
            </li>
            <li>
                <p>Azure Cosmos DB 服务“<strong>每月读取可用性百分比</strong>”通过以下方式计算：100% 减去指定 Azure 订购在一个帐单月份中的平均读取错误率，其中该服务可通过配置为跨两个或多个区域的数据库帐户进行部署。每月读取可用性百分比计算公式如下所示：</p>
                <p>每月读取可用性正常服务时间 % = 100% - 平均读取错误率</p>
                <p>服务费抵扣：</p>
                <table>
                    <thead>
                    <tr>
                        <th>每月读取可用性百分比</th>
                        <th>服务费抵扣</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>&lt;99.999%</td>
                        <td>10%</td>
                    </tr>
                    <tr>
                        <td>&lt;99%</td>
                        <td>25%</td>
                    </tr>
                    </tbody>
                </table>
            </li>
            <li>
                <p>Azure Cosmos DB 服务“<strong>每月多重写入位置可用性百分比</strong>”通过以下方式计算：100% 减去指定 Azure 订购在一个帐单月份中的平均错误率，其中该服务可通过配置为跨多个 Azure 区域有多个可写位置的数据库帐户进行部署。每月可用性百分比计算公式如下所示：</p>
                <p>每月正常服务时间 % = 100% - 平均错误率</p>
                <p>服务费抵扣：</p>
                <table>
                    <thead>
                    <tr>
                        <th>每月多重写入位置可用性百分比</th>
                        <th>服务费抵扣</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>&lt;99.999%</td>
                        <td>10%</td>
                    </tr>
                    <tr>
                        <td>&lt;99%</td>
                        <td>25%</td>
                    </tr>
                    </tbody>
                </table>
            </li>
        </ol>
        <h3>吞吐量 SLA</h3>
        <ol>
            <li>
                <p>“<strong>吞吐量失败请求数</strong>”是指在指定的一秒内，消耗的 RU 数尚未超过集合中的某部分配置的 RU 数时，受产生错误代码的 Azure Cosmos DB 集合限制的请求数。</p>
            </li>
            <li>
                <p>“<strong>错误率</strong>”的计算方式如下：一个指定 Azure 订购中的所有资源在指定的一小时时间间隔内产生的吞吐量失败请求总数除以总请求数。如果在指定的一小时时间间隔内的总请求数为零，则该时间间隔的错误率为 0%。</p>
            </li>
            <li>
                <p>某个帐单月份的“<strong>平均错误率</strong>”是指此帐单月份中每个小时的错误率总和除以此帐单月份内的总小时数。</p>
            </li>
            <li>
                <p>Azure Cosmos DB 服务的“<strong>每月吞吐量百分比</strong>”通过以下方式计算：100% 减去指定 Azure 订购在一个帐单月份中的平均错误率。每月吞吐量百分比计算公式如下所示：</p>
                <p>每月吞吐量百分比 = 100% - 平均错误率</p>
            </li>
            <li>
                <p>服务费抵扣：</p>
                <table>
                    <thead>
                    <tr>
                        <th>每月吞吐量百分比</th>
                        <th>服务费抵扣</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>&lt;99.99%</td>
                        <td>10%</td>
                    </tr>
                    <tr>
                        <td>&lt;99%</td>
                        <td>25%</td>
                    </tr>
                    </tbody>
                </table>
            </li>
        </ol>
        <h3>一致性 SLA</h3>
        <ol>
            <li>
                <p>“<strong>K</strong>” 是读取滞后于写入的某一指定文档的版本数量。</p>
            </li>
            <li>
                <p>“<strong>T</strong>” 指定的时间间隔。</p>
            </li>
            <li>
                <p>“<strong>一致性水平</strong>”是指用于支持一致性保证的针对特定读取请求的设定。下表列出了有关一致性水平的保证。请注意，会话、有限过期、一致前缀和最终一致性水平均为“松散”的一致性水平。</p>
            </li>
            <table>
                    <thead>
                    <tr>
                        <th>一致性水平</th>
                        <th>一致性保证</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>强</td>
                        <td>可线性化</td>
                    </tr>
                    <tr>
                        <td rowspan="3">会话</td>
                        <td>读取您自己的写入（在写入区域内）</td>
                    </tr>
                    <tr>
                        <td>单调读取</td>
                    </tr>
                    <tr>
                        <td>一致前缀</td>
                    </tr>
                    <tr>
                        <td rowspan="4">有限过期</td>
                        <td>读取您自己的写入（在写入区域内）</td>
                    </tr>
                    <tr>
                        <td>单调读取（在某一区域内）</td>
                    </tr>
                    <tr>
                        <td>一致前缀</td>
                    </tr>
                    <tr>
                        <td>过期界限 < K,T ></td>
                    </tr>
                    <tr>
                        <td>一致前缀 </td>
                        <td>一致前缀</td>
                    </tr>
                    <tr>
                        <td>最终</td>
                        <td>最终</td>
                    </tr>
                    </tbody>
                </table>
            <li>
                <p>“<strong>一致性违反率</strong>”是指某一指定的 Azure 订购中的所有资源在给定的一小时时间间隔内，针对所选一致性水平执行一致性保证时未能交付的成功请求数，除以总请求数。如果指定的一小时时间间隔内的“总请求数”为零，则该时间间隔的“一致性违反率”为 0%。</p>
            </li>
            <li>
                <p>某个帐单月份的“<strong>平均一致性违反率</strong>”是指此帐单月份中每个小时的一致性违反率总和除以此帐单月份内的总小时数。</p>
            </li>
            <li>
                <p>Azure Cosmos DB 服务的“<strong>每月一致性状态百分比</strong>”通过以下方式计算：100% 减去指定 Azure 订购在一个帐单月份中的平均一致性违反率。</p>
                <p>每月一致性百分比 = 100% - 平均一致性违反率</p>
            </li>
            <li>
                <p>服务费抵扣：</p>
                <table>
                    <thead>
                    <tr>
                        <th>每月一致性状态百分比</th>
                        <th>服务费抵扣</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>&lt;99.99%</td>
                        <td>10%</td>
                    </tr>
                    <tr>
                        <td>&lt;99%</td>
                        <td>25%</td>
                    </tr>
                    </tbody>
                </table>
            </li>
        </ol>
        <h3>延迟 SLA</h3>
        <ol>
            <li>
                <p>“<strong>应用程序</strong>”是指使用在一个帐单月份中配置有特定 Azure 订购 TCP 直连的 Azure Cosmos DB 客户端 SDK 在本地 Azure 区域内部署的 Azure Cosmos DB 应用程序。</p>
            </li>
            <li>
                <p>“<strong>N</strong>”是指在给定一小时内，执行文档读取或文档写入操作且有效载荷小于或等于 1 KB 的给定应用的成功请求数。</p>
            </li>
            <li>
                <p>“<strong>S</strong>”是指对于在给定一小时内，执行文档读取或文档写入操作且有效载荷小于或等于 1 KB 的给定应用，依延迟性升序排列的成功请求响应次数。</p>
            </li>
            <li>
                <p>“<strong>序数排列</strong>”是指第 99 个百分位数，最接近的序数排列方法公式如下：</p>
                <p>序数排列 = (99 / 100) * N</p>
            </li>
            <li>
                <p>“<strong>P99 延迟</strong>”是指 S 序数排列的值。</p>
            </li>
            <li>
                <p>“<strong>过度延迟小时数</strong>”是指其间应用提交的成功请求会导致文档读取 P99 延迟大于或等于 10ms 或文档写入 P99 延迟大于或等于 15ms 的一小时时间间隔的总数量。如果在指定的一小时时间间隔内的“成功请求数”为零，则该时间间隔的“过度延迟小时数”为 0。</p>
            </li>
            <li>
                <p>某个帐单月份的“<strong>平均过度延迟率</strong>”是指此帐单月份中过度延迟小时数总和除以此帐单月份内的总小时数。</p>
            </li>
            <li>
                <p>指定 Azure Cosmos DB 应用程序的“<strong>每月 P99 延迟状态百分比</strong>”通过以下方式计算：100% 减去指定 Azure 订购在一个帐单月份中的平均过度延迟率，其中该服务可通过配置有五种一致性水平中任意一种的单个区域的数据库帐户，或是配置有四种松散一致性水平中任意一种的跨多个区域的数据库帐户进行部署。每月 P99 延迟状态百分比计算公式如下所示：</p>
                <p>每月 P99 延迟状态百分比 = 100% - 平均过度延迟率</p>
            </li>
            <li>
                <p>服务费抵扣：</p>
                <table>
                    <thead>
                    <tr>
                        <th>每月 P99 延迟状态百分比</th>
                        <th>服务费抵扣</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>&lt;99.99%</td>
                        <td>10%</td>
                    </tr>
                    <tr>
                        <td>&lt;99%</td>
                        <td>25%</td>
                    </tr>
                    </tbody>
                </table>
            </li>
        </ol> 
   ]]>
    </bodyText>
    <umbracoNaviHide>0</umbracoNaviHide>
    <pageTitle>Azure Cosmos DB 的服务级别协议 | Azure</pageTitle>
    <metaKeywords></metaKeywords>
    <metaDescription>
        <![CDATA[
            Azure Cosmos DB 的服务级别协议
        ]]>    
    </metaDescription>
    <linkid>0</linkid>
    <urlDisplayName></urlDisplayName>
    <headerExpose></headerExpose>
    <footerExpose></footerExpose>
    <disqusComments>0</disqusComments>
    <metaCanonical></metaCanonical>
    <isHeader>0</isHeader>
    <pageTemplate>0</pageTemplate>
    <localize>1</localize>
    <localizePartial>0</localizePartial>
    <sitemapHide>0</sitemapHide>
    <banner>
    </banner>
  </umbTextpage>
</localize>
